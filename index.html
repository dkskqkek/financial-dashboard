<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="format-detection" content="telephone=no" />
    <title>FinanceDash - ê°œì¸ ê¸ˆìœµ ëŒ€ì‹œë³´ë“œ</title>
    <meta name="description" content="ê°œì¸ ìì‚° ê´€ë¦¬ ë° íˆ¬ì í¬íŠ¸í´ë¦¬ì˜¤ ì¶”ì ì„ ìœ„í•œ ì¢…í•© ê¸ˆìœµ ëŒ€ì‹œë³´ë“œ" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
  </head>
  <body>
    <div id="root"></div>
    <!-- ğŸš¨ ê¸´ê¸‰ API ìˆ˜ì • ìŠ¤í¬ë¦½íŠ¸ - ìºì‹œëœ JSì˜ ì˜ëª»ëœ API í˜¸ì¶œì„ ì¸ë¼ì¸ì—ì„œ ìˆ˜ì • -->
    <script>
    console.log('ğŸ› ï¸ ê¸´ê¸‰ API ìˆ˜ì • ìŠ¤í¬ë¦½íŠ¸ ì‹œì‘');
    
    // ì›ë³¸ fetch í•¨ìˆ˜ ì €ì¥
    const originalFetch = window.fetch;
    
    // fetch í•¨ìˆ˜ ì˜¤ë²„ë¼ì´ë“œ
    window.fetch = function(url, options) {
      console.log('ğŸ” Fetch í˜¸ì¶œ ê°ì§€:', url);
      
      // ì˜ëª»ëœ API í˜•ì‹ì„ ì˜¬ë°”ë¥¸ í˜•ì‹ìœ¼ë¡œ ìˆ˜ì •
      if (typeof url === 'string' && url.includes('/stock/search/')) {
        // /stock/search/GOOGL â†’ /stock/search?query=GOOGL
        const match = url.match(/\/stock\/search\/([^?&]+)/);
        if (match) {
          const symbol = match[1];
          const baseUrl = url.substring(0, url.indexOf('/stock/search/'));
          const correctedUrl = `${baseUrl}/stock/search?query=${symbol}`;
          
          console.log('ğŸ› ï¸ API í˜•ì‹ ìˆ˜ì •:');
          console.log('  ì´ì „:', url);
          console.log('  ìˆ˜ì •:', correctedUrl);
          
          return originalFetch(correctedUrl, options);
        }
      }
      
      // ìˆ˜ì •ì´ í•„ìš”ì—†ëŠ” ê²½ìš° ì›ë³¸ ê·¸ëŒ€ë¡œ í˜¸ì¶œ
      return originalFetch(url, options);
    };
    
    console.log('âœ… API ìˆ˜ì • ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œë¨ - ì˜ëª»ëœ API í˜¸ì¶œì„ ìë™ìœ¼ë¡œ ìˆ˜ì •í•©ë‹ˆë‹¤');
    </script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>